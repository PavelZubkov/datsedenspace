# Эмулятор игрового сервера

Максимально простые правила для обкатки стратегии

- В начале игры создаем поле 1000 на 1000 клеток
- Создаем 100 клеток с мусором в случайных позициях
- Создаем игрока и помещаем его в случайную пустую клетку

- Игра продолжается 10000 тиков, задача игрока собрать весь мусор за минимальное количество тиков
- Мусор считается собранным когда игрок пересекает клетку с ним
- За один тик игрок может перейти на одну из 8 смежных клеток

## Взаимодействие игрока с сервером происходит через http

1. В начале тика игрок запрашивает информацию о состоянии игры GET /api/scan
2. В ответ приходит состояние карты и игрока
{
  tick: number, // Номер текущего тика
  tickTotal: number, // Максимальное количество тиков
  score: number, // Количество единиц собранного мусора
  player: { x: number, y: number }, // Позиция игрока на начало тика
  map: { width: number, y: number }, // Размер карты
  trashPoints: Array<{ x: number, y: number }>, // Координаты клеток с мусором
  isFinished: boolean,
}

3. Определившись с действием, игрок отправляет команду кораблю POST /api/command
В body нужно отправить объект
{
  moveTo: { x: number, y: number } // Координаты одной из восьми смежных клеток в которые игрок хочет переместиться
}

  error?: 'TO_FAR_AWAY' | 'OUT_OF_MAP' | 'BAD_COMMAND' | 'GAME_FINISHED'

- можно указать ту клетку в которой сейчас находится игрок для того чтобы остаться на месте

4. Игровой сервер, приняв команду считает состояние следующего тика и отвечает на запрос после.
Таким образом следующий GET /api/scan вернет актуальную для следующего тика информацию

Если в ответе на любой запрос присутствует поле error, то остальные поля будут пустыми.